<div class="container-fluid font-weight-light">
    <div class="row">
        <div class="col-4">
            <form class="form-signin">
                <div class="text-center">
                    <div class="row">
                        <div class="col-12">
                            <img class="img-fluid" src="img/logo.png">
                        </div>
                        <div class="col-12">
                            <h4>Bets4pro desktop app</h1>
                        </div>
                    </div>

                    <div class="row mt-4">
                        <div *ngIf="appState==0" class="alert alert-secondary col-10 offset-1" role="alert">
                            Log in to start selling
                        </div>
                        <div *ngIf="appState==1" class="alert alert-success col-10 offset-1" role="alert">
                            Selling is active
                        </div>
                        <div *ngIf="appState==-1" class="alert alert-danger col-10 offset-1" role="alert">
                            Selling isn't active
                        </div>
                    </div>
                </div>

                <div class="form-label-group">
                    <input [(ngModel)]="username" id="inputLogin" class="form-control" placeholder="Login" name="Login"
                        required="" autofocus="">
                    <label for="inputLogin">Login</label>
                </div>

                <div class="form-label-group">
                    <input [(ngModel)]="password" (keyup.enter)="login()" type="password" id="inputPassword" class="form-control"
                        placeholder="Password" name="Password" required="">
                    <label for="inputPassword">Password</label>
                </div>

                <button (click)="login()" class="btn btn-lg btn-primary btn-block">
                    <i *ngIf="isLogginIn" class="fa fa-circle-o-notch fa-spin"></i>
                    Sign in
                </button>
            </form>
        </div>
        <div class="col">
            <!-- <button (click)="relog()">relog</button>
        <button (click)="test()">test</button> -->

            <!-- <p>trades: {{trades.length}}</p> -->
            <!-- <p>{{trades | json}}</p> -->
            <div *ngIf="!trades.length" class="w-100 h-100 d-flex align-items-center justify-content-center">
                No active trades
            </div>
            <div *ngIf="trades.length" class="row m-2">
                Trades:
            </div>
            <div *ngFor="let trade of trades" class="my-2 p-1 border border-success">
                <div class="row m-0 p-0 text-nowrap" style="height: 60px">
                    <div class="col-5 pl-0">
                        <img class="img-fluid position-absolute h-100" src="{{trade.buyer_data.avatar}}" style="opacity: 0.4">
                        <div class="col-12 p-0">
                            <small>Name:</small>
                        </div>
                        <div class="col-12 text-truncate p-0">
                            {{trade.buyer_data.name}}
                        </div>
                    </div>
                    <div class="col-2">
                        <div class="col-12">
                            <small>Code:</small>
                        </div>
                        <div class="col-12">
                            {{trade.protection_code}}
                        </div>
                    </div>
                    <div class="col-5">
                        <div class="col-12">
                            <small>SteamID</small>
                        </div>
                        <div class="col-12">
                            {{trade.buyer_data.steamid}}
                        </div>
                    </div>
                </div>
                <div class="row m-1">
                    Items:
                </div>
                <div class="row m-0 p-1">
                    <div *ngFor="let item of trade.items_data" class="col-2 m-0 p-1">
                        <img src="{{item.img}}" class="img-fluid rounded" [ngStyle]="{'border': '3px solid '+item.color}"  data-toggle="tooltip" data-placement="bottom" title="{{item.name}}">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>